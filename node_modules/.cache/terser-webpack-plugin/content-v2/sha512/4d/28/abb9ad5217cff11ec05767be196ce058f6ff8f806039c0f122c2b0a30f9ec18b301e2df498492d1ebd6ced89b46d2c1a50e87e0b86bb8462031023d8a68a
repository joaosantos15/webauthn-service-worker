{"code":"!function(e){var r={};function t(n){if(r[n])return r[n].exports;var o=r[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,t),o.l=!0,o.exports}t.m=e,t.c=r,t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{enumerable:!0,get:n})},t.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},t.t=function(e,r){if(1&r&&(e=t(e)),8&r)return e;if(4&r&&\"object\"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(t.r(n),Object.defineProperty(n,\"default\",{enumerable:!0,value:e}),2&r&&\"string\"!=typeof e)for(var o in e)t.d(n,o,function(r){return e[r]}.bind(null,o));return n},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,\"a\",r),r},t.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},t.p=\"\",t(t.s=83)}({83:function(e,r,t){const n=t(84);var o=document.createElement(\"p\");o.textContent=\"This content was added via JavaScript!\",document.body.appendChild(o);(e=>fetch(\"/webauthn/register\",{method:\"POST\",credentials:\"include\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(e)}).then(e=>e.json()).then(e=>{if(console.log(\"Server response \"+JSON.stringify(e)),\"ok\"!==e.status)throw new Error(`Server responed with error. The message is: ${e.message}`);return e.body}).catch(e=>{console.error(e)}))({username:\"joaousername\",name:\"joao\"}).then(e=>{console.log(\"SW response: \"+JSON.stringify(e));let r=n.preformatMakeCredReq(e);return navigator.credentials.create({publicKey:r})}).catch(e=>{console.error(e)})},84:function(e,r,t){t(85);let n=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_\",o=new Uint8Array(256);for(let e=0;e<n.length;e++)o[n.charCodeAt(e)]=e;let l=function(e){let r,t,n,l,i,a=.75*e.length,c=e.length,u=0,s=new Uint8Array(a);for(r=0;r<c;r+=4)t=o[e.charCodeAt(r)],n=o[e.charCodeAt(r+1)],l=o[e.charCodeAt(r+2)],i=o[e.charCodeAt(r+3)],s[u++]=t<<2|n>>4,s[u++]=(15&n)<<4|l>>2,s[u++]=(3&l)<<6|63&i;return s.buffer};const i=e=>{if(e instanceof Array){let r=[];for(let t of e)r.push(i(t));return r}if(e instanceof ArrayBuffer)return function(e){let r,t=new Uint8Array(e),o=t.length,l=\"\";for(r=0;r<o;r+=3)l+=n[t[r]>>2],l+=n[(3&t[r])<<4|t[r+1]>>4],l+=n[(15&t[r+1])<<2|t[r+2]>>6],l+=n[63&t[r+2]];return o%3==2?l=l.substring(0,l.length-1):o%3==1&&(l=l.substring(0,l.length-2)),l}(e);if(e instanceof Object){let r={};for(let t in e)r[t]=i(e[t]);return r}return e};e.exports={publicKeyCredentialToJSON:i,generateRandomBuffer:e=>{e=e||32;let r=new Uint8Array(e);return window.crypto.getRandomValues(r),r},preformatMakeCredReq:async e=>{let r=l(e.challenge),t=l(e.user.id);return console.log(\"Decoded1: \"+JSON.stringify(r)),console.log(\"Decoded2: \"+JSON.stringify(t)),e.challenge=new Uint8Array(l(e.challenge)),e.user.id=new Uint8Array(l(e.user.id)),console.log(\"RET: \"),console.log(e),e},preformatGetAssertReq:e=>{e.challenge=l(e.challenge);for(let r of e.allowCredentials)r.id=l(r.id);return e}}},85:function(e,r,t){var n;!function(){\"use strict\";let t=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_\",o=new Uint8Array(256);for(let e=0;e<t.length;e++)o[t.charCodeAt(e)]=e;let l={decode:function(e){let r,t,n,l,i,a=.75*e.length,c=e.length,u=0,s=new Uint8Array(a);for(r=0;r<c;r+=4)t=o[e.charCodeAt(r)],n=o[e.charCodeAt(r+1)],l=o[e.charCodeAt(r+2)],i=o[e.charCodeAt(r+3)],s[u++]=t<<2|n>>4,s[u++]=(15&n)<<4|l>>2,s[u++]=(3&l)<<6|63&i;return s.buffer},encode:function(e){let r,n=new Uint8Array(e),o=n.length,l=\"\";for(r=0;r<o;r+=3)l+=t[n[r]>>2],l+=t[(3&n[r])<<4|n[r+1]>>4],l+=t[(15&n[r+1])<<2|n[r+2]>>6],l+=t[63&n[r+2]];return o%3==2?l=l.substring(0,l.length-1):o%3==1&&(l=l.substring(0,l.length-2)),l}};window.base64url=l,void 0!==e.exports?e.exports=l:void 0===(n=function(){return l}.apply(r,[]))||(e.exports=n)}()}});","extractedComments":[]}
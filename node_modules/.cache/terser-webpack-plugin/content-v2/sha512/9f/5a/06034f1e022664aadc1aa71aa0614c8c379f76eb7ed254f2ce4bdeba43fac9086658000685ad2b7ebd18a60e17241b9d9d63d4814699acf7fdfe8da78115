{"code":"!function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,\"a\",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p=\"\",r(r.s=83)}({83:function(e,t,r){const n=r(84);var o=document.createElement(\"p\");o.textContent=\"This content was added via JavaScript!\",document.body.appendChild(o);(e=>fetch(\"/webauthn/register\",{method:\"POST\",credentials:\"include\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(e)}).then(e=>e.json()).then(e=>{if(console.log(\"Server response \"+JSON.stringify(e)),\"ok\"!==e.status)throw new Error(`Server responed with error. The message is: ${e.message}`);return e.body}))({username:\"joaousername\",name:\"joao\"}).then(e=>{console.log(\"SW response: \"+JSON.stringify(e));let t=n.preformatMakeCredReq(e);return t.authenticatorSelection={authenticatorAttachment:\"platform\",userVerification:\"preferred\"},t.rp.id=\"localhost\",console.log(\"PUB KEY: \"+JSON.stringify(t)),navigator.credentials.create({publicKey:t})})},84:function(e,t,r){r(85);const n=e=>{if(e instanceof Array){let t=[];for(let r of e)t.push(n(r));return t}if(e instanceof ArrayBuffer)return window.base64url.encode(e);if(e instanceof Object){let t={};for(let r in e)t[r]=n(e[r]);return t}return e};e.exports={publicKeyCredentialToJSON:n,generateRandomBuffer:e=>{e=e||32;let t=new Uint8Array(e);return window.crypto.getRandomValues(t),t},preformatMakeCredReq:e=>(e.challenge=window.base64url.decode(e.challenge),e.user.id=window.base64url.decode(e.user.id),e),preformatGetAssertReq:e=>{e.challenge=window.base64url.decode(e.challenge);for(let t of e.allowCredentials)t.id=window.base64url.decode(t.id);return e}}},85:function(e,t,r){var n;!function(){\"use strict\";let r=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_\",o=new Uint8Array(256);for(let e=0;e<r.length;e++)o[r.charCodeAt(e)]=e;let i={decode:function(e){let t,r,n,i,a,l=.75*e.length,u=e.length,c=0,d=new Uint8Array(l);for(t=0;t<u;t+=4)r=o[e.charCodeAt(t)],n=o[e.charCodeAt(t+1)],i=o[e.charCodeAt(t+2)],a=o[e.charCodeAt(t+3)],d[c++]=r<<2|n>>4,d[c++]=(15&n)<<4|i>>2,d[c++]=(3&i)<<6|63&a;return d.buffer},encode:function(e){let t,n=new Uint8Array(e),o=n.length,i=\"\";for(t=0;t<o;t+=3)i+=r[n[t]>>2],i+=r[(3&n[t])<<4|n[t+1]>>4],i+=r[(15&n[t+1])<<2|n[t+2]>>6],i+=r[63&n[t+2]];return o%3==2?i=i.substring(0,i.length-1):o%3==1&&(i=i.substring(0,i.length-2)),i}};window.base64url=i,void 0!==e.exports?e.exports=i:void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()}});","extractedComments":[]}
{"code":"!function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,\"a\",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p=\"\",r(r.s=83)}({83:function(e,t,r){const n=r(84);var o=document.createElement(\"p\");o.textContent=\"This content was added via JavaScript!\",document.body.appendChild(o);(e=>fetch(\"/webauthn/register\",{method:\"POST\",credentials:\"include\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(e)}).then(e=>e.json()).then(e=>{if(console.log(\"Server response \"+JSON.stringify(e)),\"ok\"!==e.status)throw new Error(`Server responed with error. The message is: ${e.message}`);return e.body}).catch(e=>{console.error(e)}))({username:\"joaousername\",name:\"joao\"}).then(async e=>{console.log(\"SW response: \"+JSON.stringify(e));let t=await n.preformatMakeCredReq(e);return t.authenticatorSelection={authenticatorAttachment:\"platform\",userVerification:\"preferred\"},t.rp.id=\"localhost\",console.log(\"PUB KEY: \"+JSON.stringify(t)),navigator.credentials.create({publicKey:t})}).catch(e=>{console.error(e)})},84:function(e,t,r){r(85);let n=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_\",o=new Uint8Array(256);for(let e=0;e<n.length;e++)o[n.charCodeAt(e)]=e;let i=function(e){let t,r,n,i,l,a=.75*e.length,c=e.length,u=0,s=new Uint8Array(a);for(t=0;t<c;t+=4)r=o[e.charCodeAt(t)],n=o[e.charCodeAt(t+1)],i=o[e.charCodeAt(t+2)],l=o[e.charCodeAt(t+3)],s[u++]=r<<2|n>>4,s[u++]=(15&n)<<4|i>>2,s[u++]=(3&i)<<6|63&l;return s.buffer};const l=e=>{if(e instanceof Array){let t=[];for(let r of e)t.push(l(r));return t}if(e instanceof ArrayBuffer)return function(e){let t,r=new Uint8Array(e),o=r.length,i=\"\";for(t=0;t<o;t+=3)i+=n[r[t]>>2],i+=n[(3&r[t])<<4|r[t+1]>>4],i+=n[(15&r[t+1])<<2|r[t+2]>>6],i+=n[63&r[t+2]];return o%3==2?i=i.substring(0,i.length-1):o%3==1&&(i=i.substring(0,i.length-2)),i}(e);if(e instanceof Object){let t={};for(let r in e)t[r]=l(e[r]);return t}return e};e.exports={publicKeyCredentialToJSON:l,generateRandomBuffer:e=>{e=e||32;let t=new Uint8Array(e);return window.crypto.getRandomValues(t),t},preformatMakeCredReq:async e=>{let t=i(e.challenge),r=i(e.user.id);return console.log(\"Decoded1: \"+JSON.stringify(t)),console.log(\"Decoded2: \"+JSON.stringify(r)),console.log(\"Decoded1: \"+i(e.challenge)),console.log(\"Decoded2: \"+i(e.user.id)),e.challenge=i(e.challenge),e.user.id=i(e.user.id),console.log(\"Returning: \"+JSON.stringify(e)),e},preformatGetAssertReq:e=>{e.challenge=i(e.challenge);for(let t of e.allowCredentials)t.id=i(t.id);return e}}},85:function(e,t,r){var n;!function(){\"use strict\";let r=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_\",o=new Uint8Array(256);for(let e=0;e<r.length;e++)o[r.charCodeAt(e)]=e;let i={decode:function(e){let t,r,n,i,l,a=.75*e.length,c=e.length,u=0,s=new Uint8Array(a);for(t=0;t<c;t+=4)r=o[e.charCodeAt(t)],n=o[e.charCodeAt(t+1)],i=o[e.charCodeAt(t+2)],l=o[e.charCodeAt(t+3)],s[u++]=r<<2|n>>4,s[u++]=(15&n)<<4|i>>2,s[u++]=(3&i)<<6|63&l;return s.buffer},encode:function(e){let t,n=new Uint8Array(e),o=n.length,i=\"\";for(t=0;t<o;t+=3)i+=r[n[t]>>2],i+=r[(3&n[t])<<4|n[t+1]>>4],i+=r[(15&n[t+1])<<2|n[t+2]>>6],i+=r[63&n[t+2]];return o%3==2?i=i.substring(0,i.length-1):o%3==1&&(i=i.substring(0,i.length-2)),i}};window.base64url=i,void 0!==e.exports?e.exports=i:void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()}});","extractedComments":[]}
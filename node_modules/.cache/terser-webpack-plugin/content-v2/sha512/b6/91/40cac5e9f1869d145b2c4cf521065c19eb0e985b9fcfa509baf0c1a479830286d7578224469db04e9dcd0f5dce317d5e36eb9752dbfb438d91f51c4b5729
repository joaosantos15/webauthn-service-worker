{"code":"!function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,\"a\",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p=\"\",r(r.s=83)}({83:function(e,t,r){const n=r(84);var o=document.createElement(\"p\");o.textContent=\"This content was added via JavaScript!\",document.body.appendChild(o);(e=>fetch(\"/webauthn/register\",{method:\"POST\",credentials:\"include\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(e)}).then(e=>e.json()).then(e=>{if(console.log(\"Server response \"+JSON.stringify(e)),\"ok\"!==e.status)throw new Error(`Server responed with error. The message is: ${e.message}`);return e.body}).catch(e=>{console.error(e)}))({username:\"joaousername\",name:\"joao\"}).then(e=>{console.log(\"SW response: \"+JSON.stringify(e));let{decoded1:t,decoded2:r}=n.preformatMakeCredReq(e);return console.log(\"lalalala\"),console.log(t),publicKey.authenticatorSelection={authenticatorAttachment:\"platform\",userVerification:\"preferred\"},navigator.credentials.create({publicKey:publicKey})}).catch(e=>{console.error(e)})},84:function(e,t,r){r(85);let n=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_\",o=new Uint8Array(256);for(let e=0;e<n.length;e++)o[n.charCodeAt(e)]=e;let l=function(e){let t,r,n,l,a,i=.75*e.length,c=e.length,u=0,d=new Uint8Array(i);for(t=0;t<c;t+=4)r=o[e.charCodeAt(t)],n=o[e.charCodeAt(t+1)],l=o[e.charCodeAt(t+2)],a=o[e.charCodeAt(t+3)],d[u++]=r<<2|n>>4,d[u++]=(15&n)<<4|l>>2,d[u++]=(3&l)<<6|63&a;return d.buffer};const a=e=>{if(e instanceof Array){let t=[];for(let r of e)t.push(a(r));return t}if(e instanceof ArrayBuffer)return function(e){let t,r=new Uint8Array(e),o=r.length,l=\"\";for(t=0;t<o;t+=3)l+=n[r[t]>>2],l+=n[(3&r[t])<<4|r[t+1]>>4],l+=n[(15&r[t+1])<<2|r[t+2]>>6],l+=n[63&r[t+2]];return o%3==2?l=l.substring(0,l.length-1):o%3==1&&(l=l.substring(0,l.length-2)),l}(e);if(e instanceof Object){let t={};for(let r in e)t[r]=a(e[r]);return t}return e};e.exports={publicKeyCredentialToJSON:a,generateRandomBuffer:e=>{e=e||32;let t=new Uint8Array(e);return window.crypto.getRandomValues(t),t},preformatMakeCredReq:async e=>{let t=l(e.challenge),r=l(e.user.id);return console.log(\"Decoded1: \"+JSON.stringify(t)),console.log(\"Decoded2: \"+JSON.stringify(r)),e.challenge=l(e.challenge),e.user.id=l(e.user.id),{decoded1:t,decoded2:r}},preformatGetAssertReq:e=>{e.challenge=l(e.challenge);for(let t of e.allowCredentials)t.id=l(t.id);return e}}},85:function(e,t,r){var n;!function(){\"use strict\";let r=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_\",o=new Uint8Array(256);for(let e=0;e<r.length;e++)o[r.charCodeAt(e)]=e;let l={decode:function(e){let t,r,n,l,a,i=.75*e.length,c=e.length,u=0,d=new Uint8Array(i);for(t=0;t<c;t+=4)r=o[e.charCodeAt(t)],n=o[e.charCodeAt(t+1)],l=o[e.charCodeAt(t+2)],a=o[e.charCodeAt(t+3)],d[u++]=r<<2|n>>4,d[u++]=(15&n)<<4|l>>2,d[u++]=(3&l)<<6|63&a;return d.buffer},encode:function(e){let t,n=new Uint8Array(e),o=n.length,l=\"\";for(t=0;t<o;t+=3)l+=r[n[t]>>2],l+=r[(3&n[t])<<4|n[t+1]>>4],l+=r[(15&n[t+1])<<2|n[t+2]>>6],l+=r[63&n[t+2]];return o%3==2?l=l.substring(0,l.length-1):o%3==1&&(l=l.substring(0,l.length-2)),l}};window.base64url=l,void 0!==e.exports?e.exports=l:void 0===(n=function(){return l}.apply(t,[]))||(e.exports=n)}()}});","extractedComments":[]}